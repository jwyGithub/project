"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}define(function(){function e(){_classCallCheck(this,e),this.goods=document.querySelector(".goods"),this.allPrice=document.querySelector(".allPrice"),this.init(),this.addEvent()}return _createClass(e,[{key:"init",value:function(){this.items=function(e){for(var t=document.cookie.split("; "),i=0;i<t.length;i++)if(t[i].split("=")[0]==e)return t[i].split("=")[1];return""}("details"),this.display()}},{key:"addEvent",value:function(){var l=this;$("#next").click(function(e){$(".msg").css("display","block")}),this.goods.addEventListener("click",function(e){var t=e||window.event,i=t.target||t.srcElement;if("reduce"==i.getAttribute("id"))1==i.nextElementSibling.value?i.nextElementSibling.value=1:(i.nextElementSibling.value--,i.parentElement.nextElementSibling.innerHTML=i.nextElementSibling.value*parseInt($(".unitPrice").html())+"元",l.aPrice());else if("add"==i.getAttribute("id"))i.previousElementSibling.value++,i.parentElement.nextElementSibling.innerHTML=i.previousElementSibling.value*parseInt($(".unitPrice").html())+"元",l.aPrice();else if("del"==i.getAttribute("class")){i.parentElement.remove(),l.aPrice();for(var n=0;n<l.lists.length;n++)if(l.lists[n].id==i.parentElement.getAttribute("id")){l.lists.splice(n,1);break}!function(e,t,i){var n=(i=i||{}).path?";path="+i.path:"",l="";if(i.expires){var s=new Date;s.setDate(s.getDate()+i.expires),l=";expires="+s}document.cookie=e+"="+t+l+n}("details",JSON.stringify(l.lists),{path:"/"})}})}},{key:"display",value:function(){this.lists=JSON.parse(this.items);for(var e="",t=0;t<this.lists.length;t++)e+='<ul id ="'+this.lists[t].id+'">\n                    <li><input type="checkbox" checked></li>\n                    <li>\n                        <img src="'+this.lists[t].img+'" alt="">\n                        <a href="#">'+this.lists[t].title+"</a>\n                    </li>\n                    <li>"+this.lists[t].pubYear.slice(0,this.lists[t].pubYear.length-4)+'</li>\n                    <li>\n                        <select name="saletime" cid="129360">\n                            <option value="0" selected="">\n                                2020年03月</option>\n                            <option value="1">\n                                2020年4月</option>\n                            <option value="2">\n                                2020年5月</option>\n                        </select>\n                    </li>\n                    <li class="unitPrice">'+this.lists[t].price+'</li>\n                    <li class="con">\n                        <a href="#" id="reduce">-</a>\n                        <input id="num" type="text" value="'+this.lists[t].number+'">\n                        <a href="#" id="add">+</a>\n                    </li>\n                    <li class="money">'+this.lists[t].number*parseInt(this.lists[t].price)+'元</li>\n                    <li class="del">删除</li>\n                </ul>';this.goods.innerHTML=e,this.aPrice()}},{key:"aPrice",value:function(){this.all=document.querySelectorAll(".money");for(var e=0,t=0;t<this.all.length;t++)e+=parseInt(this.all[t].innerHTML);this.allPrice.innerHTML=e+"元"}}]),e});