"use strict";var _createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}define(function(){function t(){_classCallCheck(this,t),this.tel=document.getElementById("tel"),this.pwd=document.getElementById("pwd"),this.btn=document.getElementById("login"),this.reg=document.getElementById("reg"),this.back=document.getElementById("back"),this.tip=document.querySelector(".tip"),this.forget=document.querySelector(".forget"),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){var t=this;this.btn.onclick=function(){t.telV=t.tel.value,t.pwdV=t.pwd.value,""==t.telV||""==t.pwdV?t.tip.innerHTML="提示：请输入账号或密码":t.login()},this.back.onclick=function(){location.href="http://localhost/index/index.html"},this.reg.onclick=function(){location.href="http://localhost/reg/reg.html"},this.forget.onclick=function(){t.tip.innerHTML="提示：此功能暂未开放"}}},{key:"login",value:function(){var e=this;$.ajax({url:"http://localhost:81/common/login",data:{user:e.telV,pass:e.pwdV},type:"post",success:function(t){e.res=JSON.parse(t),e.load()},error:function(t,e){console.log(e)}})}},{key:"load",value:function(){400==this.res.code&&"账号不存在"==this.res.msg?this.tip.innerHTML="提示：账号不存在":400==this.res.code&&"密码错误"==this.res.msg?this.tip.innerHTML="提示：密码错误":200==this.res.code&&"登录成功"==this.res.msg&&(function(t,e,n){var i=(n=n||{}).path?";path="+n.path:"",o="";if(n.expires){var s=new Date;s.setDate(s.getDate()+n.expires),o=";expires="+s}document.cookie=t+"="+e+o+i}("user",this.telV,{path:"/"}),location.href="http://localhost/index/index.html")}}]),t});